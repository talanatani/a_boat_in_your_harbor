<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>BLANKET ME</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500&display=swap" rel="stylesheet">

<style>
:root{
  --bg:#000;
  --stageMax:1200px;
  --stagePad:48px;
}

/* RESET */
*{ box-sizing:border-box; }
html,body{ margin:0; height:100%; }
body{
  background:var(--bg);
  font-family:Inter,system-ui,sans-serif;
  color:#fff;
  overflow-x:hidden;
}

/* =====================
   ICHOR / OCEAN RAIN
   ===================== */
canvas#rain{
  position:fixed;
  inset:0;
  z-index:0;
  pointer-events:none;
  opacity:.25;              /* always present */
}

/* =====================
   PORTAL
   ===================== */
.chamber{
  height:200vh;
  position:relative;
  z-index:1;
}

.stage{
  position:sticky;
  top:0;
  height:100vh;
  display:grid;
  place-items:center;
}

.stage-inner{
  width:min(var(--stageMax), calc(100vw - var(--stagePad)));
  height:100%;
  position:relative;
}

.stage-inner img{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  object-fit:contain;
}

/* BLANKET ME — FIXED */
.invocation{
  position:absolute;
  top:18%;
  left:50%;
  transform:translate(-50%,-50%);
  font-size:clamp(28px,7vw,56px);
  letter-spacing:.24em;
  text-transform:uppercase;
  white-space:nowrap;          /* ✅ single line */
  text-align:center;
  color:rgba(255,255,255,.18);
  text-shadow:0 0 18px rgba(255,255,255,.35);
}

/* mobile tweak */
@media(max-width:520px){
  .invocation{
    letter-spacing:.18em;
  }
}

/* =====================
   CEREMONY
   ===================== */
.ceremony{
  height:400vh; /* long scroll for pacing */
  position:relative;
  z-index:1;
}

.ceremony-stage{
  position:sticky;
  top:0;
  height:100vh;
  display:grid;
  place-items:center;
}

.text-frame{
  width:min(1600px, 100%);
  padding:0 24px;
  text-align:center;
  position:relative;
}

/* SINGLE LINE DISPLAY */
.line{
  position:absolute;
  left:50%;
  top:50%;
  transform:translate(-50%,-50%);
  font-size:clamp(16px,1.6vw,22px);
  line-height:1.25;
  letter-spacing:.01em;
  white-space:nowrap;

  color:rgba(255,255,255,.9);
  text-shadow:
    0 0 2px rgba(255,255,255,.25),
    0 0 14px rgba(200,220,255,.12);

  opacity:0;
  transition:opacity 1.4s ease;
}

/* ENTER */
.enter{
  position:absolute;
  top:calc(50% + 90px);
  left:50%;
  transform:translateX(-50%);
  padding:12px 26px;
  border-radius:32px;
  border:1px solid rgba(255,255,255,.3);
  font-size:14px;
  letter-spacing:.18em;
  text-transform:lowercase;
  background:rgba(255,255,255,.04);
  backdrop-filter:blur(6px);
  color:rgba(255,255,255,.85);
  opacity:0;
  transition:opacity 1.2s ease;
  cursor:pointer;
}
.enter:hover{
  background:rgba(255,255,255,.08);
}
</style>
</head>

<body>

<canvas id="rain"></canvas>

<!-- PORTAL -->
<section class="chamber">
  <div class="stage">
    <div class="stage-inner">
      <img src="new_portal.jpeg" alt="">
      <div class="invocation">BLANKET ME</div>
    </div>
  </div>
</section>

<!-- CEREMONY -->
<section class="ceremony" id="ceremony">
  <div class="ceremony-stage">
    <div class="text-frame">

      <div class="line">we imagine in this exhibition an invitation to witness our creation of new ways of experiencing boundless love</div>
      <div class="line">forward-facing and fusing ethereality with inspiration</div>
      <div class="line">we bear witness and release limitation</div>
      <div class="line">opening to transformation</div>

      <div class="enter" id="enter">enter</div>

    </div>
  </div>
</section>

<script>
/* =====================
   RAIN (OCEAN FEEL)
   ===================== */
const canvas = document.getElementById("rain");
const ctx = canvas.getContext("2d");
let w,h,drops=[];

function resize(){
  w = canvas.width = innerWidth;
  h = canvas.height = innerHeight;
  drops = Array.from({length:160},()=>({
    x:Math.random()*w,
    y:Math.random()*h,
    speed:.3+Math.random()*1,
    len:40+Math.random()*80,
    alpha:.05+Math.random()*.08
  }));
}
resize();
window.addEventListener("resize",resize);

function draw(){
  ctx.clearRect(0,0,w,h);
  ctx.strokeStyle="rgba(255,255,255,.12)";
  drops.forEach(d=>{
    ctx.globalAlpha=d.alpha;
    ctx.beginPath();
    ctx.moveTo(d.x,d.y);
    ctx.lineTo(d.x,d.y+d.len);
    ctx.stroke();
    d.y+=d.speed;
    if(d.y>d.h){ d.y=-100; }
  });
  requestAnimationFrame(draw);
}
draw();

/* =====================
   SCROLL → LINE SEQUENCE
   ===================== */
const lines = document.querySelectorAll(".line");
const ceremony = document.getElementById("ceremony");
const enter = document.getElementById("enter");

function onScroll(){
  const r = ceremony.getBoundingClientRect();
  const progress = Math.min(1, Math.max(0, -r.top / (r.height - innerHeight)));

  const index = Math.floor(progress * (lines.length + 1));

  lines.forEach((l,i)=>{
    l.style.opacity = i === index ? 1 : 0;
  });

  // ENTER after final line
  enter.style.opacity = index >= lines.length ? 1 : 0;
}

window.addEventListener("scroll",onScroll,{passive:true});
onScroll();

enter.addEventListener("click",()=>{
  // replace with navigation
  alert("Next chamber");
});
</script>

</body>
</html>
